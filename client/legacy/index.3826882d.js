import{aa as t,ab as n,_ as a,a as e,b as r,c as s,i as o,s as c,d as i,S as f,G as u,H as l,I as $,t as p,u as m,J as h,g as d,f as v,w as g,ac as x,l as y,k as b,h as w,j as E,x as P,m as S,n as T,o as j,p as _,z as N,E as A,ae as I,D as k,Z as D,A as B,ad as V}from"./client.3e652fcb.js";import{S as O,C as U,I as C}from"./index.6a990e5c.js";function H(t,n,a){var e=t.slice();return e[5]=n[a],e}function q(t){var n,a,e=new U.Title({props:{title:t[5].title,subheader:t[5].brand}});return{c:function(){n=v("div"),u(e.$$.fragment),this.h()},l:function(t){n=w(t,"DIV",{slot:!0});var a=E(n);l(e.$$.fragment,a),a.forEach(y),this.h()},h:function(){S(n,"slot","title")},m:function(t,r){T(t,n,r),$(e,n,null),a=!0},p:function(t,n){var a={};4&n&&(a.title=t[5].title),4&n&&(a.subheader=t[5].brand),e.$set(a)},i:function(t){a||(p(e.$$.fragment,t),a=!0)},o:function(t){m(e.$$.fragment,t),a=!1},d:function(t){t&&y(n),h(e)}}}function z(t){var n,a,e=new C({props:{class:"w-full",src:t[5].image}});return{c:function(){n=v("div"),u(e.$$.fragment),this.h()},l:function(t){n=w(t,"DIV",{slot:!0});var a=E(n);l(e.$$.fragment,a),a.forEach(y),this.h()},h:function(){S(n,"slot","media")},m:function(t,r){T(t,n,r),$(e,n,null),a=!0},p:function(t,n){var a={};4&n&&(a.src=t[5].image),e.$set(a)},i:function(t){a||(p(e.$$.fragment,t),a=!0)},o:function(t){m(e.$$.fragment,t),a=!1},d:function(t){t&&y(n),h(e)}}}function G(t){var n;return{c:function(){n=g("event_available")},l:function(t){n=P(t,"event_available")},m:function(t,a){T(t,n,a)},d:function(t){t&&y(n)}}}function J(t){var n;return{c:function(){n=g("event_busy")},l:function(t){n=P(t,"event_busy")},m:function(t,a){T(t,n,a)},d:function(t){t&&y(n)}}}function Z(t){var n;return{c:function(){n=g("shopping_cart")},l:function(t){n=P(t,"shopping_cart")},m:function(t,a){T(t,n,a)},d:function(t){t&&y(n)}}}function F(t){var n,a,e,r,s,o,c,i,f,x,_,A,I,k,B,V,O,U,C=t[5].startTime+"",H=t[5].endTime+"",q=new D({props:{small:!0,class:"py-1",$$slots:{default:[G]},$$scope:{ctx:t}}}),z=new D({props:{small:!0,class:"py-1",$$slots:{default:[J]},$$scope:{ctx:t}}}),F=new D({props:{small:!0,class:"py-1",$$slots:{default:[Z]},$$scope:{ctx:t}}});return{c:function(){n=v("div"),a=v("button"),u(q.$$.fragment),e=d(),r=v("span"),s=g(C),o=d(),c=v("button"),u(z.$$.fragment),i=d(),f=v("span"),x=g(H),_=d(),A=v("button"),u(F.$$.fragment),I=d(),k=v("span"),B=v("a"),V=g("PS Store"),this.h()},l:function(t){n=w(t,"DIV",{slot:!0,class:!0});var u=E(n);a=w(u,"BUTTON",{class:!0});var $=E(a);l(q.$$.fragment,$),e=b($),r=w($,"SPAN",{class:!0});var p=E(r);s=P(p,C),p.forEach(y),$.forEach(y),o=b(u),c=w(u,"BUTTON",{class:!0});var m=E(c);l(z.$$.fragment,m),i=b(m),f=w(m,"SPAN",{class:!0});var h=E(f);x=P(h,H),h.forEach(y),m.forEach(y),_=b(u),A=w(u,"BUTTON",{class:!0});var d=E(A);l(F.$$.fragment,d),I=b(d),k=w(d,"SPAN",{class:!0});var v=E(k);B=w(v,"A",{target:!0,href:!0});var g=E(B);V=P(g,"PS Store"),g.forEach(y),v.forEach(y),d.forEach(y),u.forEach(y),this.h()},h:function(){S(r,"class","pt-px px-1"),S(a,"class","rounded-full cursor-default flex item-center m-1 px-2 py-1 bg-success-500"),S(f,"class","pt-px px-1"),S(c,"class","rounded-full cursor-default flex item-center m-1 px-2 py-1 bg-error-500"),S(B,"target","_blank"),S(B,"href",O="https://store.playstation.com/#!/cid="+t[5].code),S(k,"class","pt-px px-1"),S(A,"class","rounded-full flex item-center m-1 px-2 py-1 bg-blue-500 text-white"),S(n,"slot","text"),S(n,"class","p-5 pt-3 text-gray-700 body-2")},m:function(t,u){T(t,n,u),j(n,a),$(q,a,null),j(a,e),j(a,r),j(r,s),j(n,o),j(n,c),$(z,c,null),j(c,i),j(c,f),j(f,x),j(n,_),j(n,A),$(F,A,null),j(A,I),j(A,k),j(k,B),j(B,V),U=!0},p:function(t,n){var a={};256&n&&(a.$$scope={dirty:n,ctx:t}),q.$set(a),(!U||4&n)&&C!==(C=t[5].startTime+"")&&N(s,C);var e={};256&n&&(e.$$scope={dirty:n,ctx:t}),z.$set(e),(!U||4&n)&&H!==(H=t[5].endTime+"")&&N(x,H);var r={};256&n&&(r.$$scope={dirty:n,ctx:t}),F.$set(r),(!U||4&n&&O!==(O="https://store.playstation.com/#!/cid="+t[5].code))&&S(B,"href",O)},i:function(t){U||(p(q.$$.fragment,t),p(z.$$.fragment,t),p(F.$$.fragment,t),U=!0)},o:function(t){m(q.$$.fragment,t),m(z.$$.fragment,t),m(F.$$.fragment,t),U=!1},d:function(t){t&&y(n),h(q),h(z),h(F)}}}function K(t){var n,a,e;return{c:function(){n=d(),a=d(),e=d()},l:function(t){n=b(t),a=b(t),e=b(t)},m:function(t,r){T(t,n,r),T(t,a,r),T(t,e,r)},p:B,i:B,o:B,d:function(t){t&&y(n),t&&y(a),t&&y(e)}}}function L(t){var n,a=new U.Card({props:{class:"m-5 w-full md:w-1/3 lg:w-1/5",$$slots:{default:[K],text:[F],media:[z],title:[q]},$$scope:{ctx:t}}});return{c:function(){u(a.$$.fragment)},l:function(t){l(a.$$.fragment,t)},m:function(t,e){$(a,t,e),n=!0},p:function(t,n){var e={};260&n&&(e.$$scope={dirty:n,ctx:t}),a.$set(e)},i:function(t){n||(p(a.$$.fragment,t),n=!0)},o:function(t){m(a.$$.fragment,t),n=!1},d:function(t){h(a,t)}}}function M(t){var n,a,e,r,s,o,c,i,f,D,B,V,U;document.title=n="PlayStation®Plus 免費遊戲 "+t[1]+"年";var C=new O({props:{label:W,items:t[3]}});C.$on("change",t[4]);for(var q=t[2],z=[],G=0;G<q.length;G+=1)z[G]=L(H(t,q,G));var J=function(t){return m(z[t],1,1,function(){z[t]=null})};return{c:function(){a=d(),e=v("h4"),r=g("PlayStation®Plus 免費遊戲 "),s=v("span"),o=g(t[0]),c=d(),i=g(t[1]),f=g("年"),D=d(),u(C.$$.fragment),B=d(),V=v("div");for(var n=0;n<z.length;n+=1)z[n].c();this.h()},l:function(n){x('[data-svelte="svelte-12cc3ao"]',document.head).forEach(y),a=b(n),e=w(n,"H4",{});var u=E(e);r=P(u,"PlayStation®Plus 免費遊戲 "),s=w(u,"SPAN",{class:!0});var $=E(s);o=P($,t[0]),$.forEach(y),c=b(u),i=P(u,t[1]),f=P(u,"年"),u.forEach(y),D=b(n),l(C.$$.fragment,n),B=b(n),V=w(n,"DIV",{class:!0});for(var p=E(V),m=0;m<z.length;m+=1)z[m].l(p);p.forEach(y),this.h()},h:function(){S(s,"class","uppercase"),S(V,"class","flex justify-center flex-wrap")},m:function(t,n){T(t,a,n),T(t,e,n),j(e,r),j(e,s),j(s,o),j(e,c),j(e,i),j(e,f),T(t,D,n),$(C,t,n),T(t,B,n),T(t,V,n);for(var u=0;u<z.length;u+=1)z[u].m(V,null);U=!0},p:function(t,a){var e=_(a,1)[0];(!U||2&e)&&n!==(n="PlayStation®Plus 免費遊戲 "+t[1]+"年")&&(document.title=n),(!U||1&e)&&N(o,t[0]),(!U||2&e)&&N(i,t[1]);var r={};if(8&e&&(r.items=t[3]),C.$set(r),4&e){var s;for(q=t[2],s=0;s<q.length;s+=1){var c=H(t,q,s);z[s]?(z[s].p(c,e),p(z[s],1)):(z[s]=L(c),z[s].c(),p(z[s],1),z[s].m(V,null))}for(k(),s=q.length;s<z.length;s+=1)J(s);A()}},i:function(t){if(!U){p(C.$$.fragment,t);for(var n=0;n<q.length;n+=1)p(z[n]);U=!0}},o:function(t){m(C.$$.fragment,t),z=z.filter(Boolean);for(var n=0;n<z.length;n+=1)m(z[n]);U=!1},d:function(t){t&&y(a),t&&y(e),t&&y(D),h(C,t),t&&y(B),t&&y(V),I(z,t)}}}function Q(t){return R.apply(this,arguments)}function R(){return(R=t(n.mark(function t(a){var e,r,s,o,c,i,f;return n.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=a.params,a.query,r={},t.next=4,this.fetch("api/".concat(e.region,"/").concat(e.year,".json"));case 4:return s=t.sent,t.next=7,s.json();case 7:return o=t.sent,200===s.status&&"1000"===o.code?(r.region=e.region,r.year=e.year,r.data=o.data):this.error(s.status,o.code+" - "+o.message),t.next=11,this.fetch("api/hk/list.json");case 11:return c=t.sent,t.next=14,c.json();case 14:return i=t.sent,200===c.status&&"1000"===i.code?(f=[],i.data.forEach(function(t){f.push({value:t,text:t+"年"})}),r.items=f):this.error(c.status,i.code+" - "+i.message),t.abrupt("return",r);case 17:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}var W="年份";function X(t,n,a){var e=n.region,r=n.year,s=n.data,o=n.items,c=void 0===o?[]:o;return t.$set=function(t){"region"in t&&a(0,e=t.region),"year"in t&&a(1,r=t.year),"data"in t&&a(2,s=t.data),"items"in t&&a(3,c=t.items)},[e,r,s,c,function(t){return n=t.detail,void V("ps/hk/"+n);var n}]}export default(function(t){function n(t){var a;return e(this,n),a=r(this,s(n).call(this)),o(i(a),t,X,M,c,{region:0,year:1,data:2,items:3}),a}return a(n,f),n}());export{Q as preload};
