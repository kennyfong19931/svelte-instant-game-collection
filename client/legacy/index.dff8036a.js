import{aa as t,ab as n,_ as a,a as e,b as r,c as s,i as o,s as c,d as i,S as f,G as u,H as l,I as p,t as h,u as $,J as m,g as d,f as v,w as g,ac as x,l as y,k as b,h as E,j as w,x as P,m as S,n as T,o as N,p as j,z as _,E as A,ae as I,D as k,Z as B,A as D,ad as O}from"./client.9a8286be.js";import{S as U,C as V,I as C}from"./index.f7616f16.js";function H(t,n,a){var e=t.slice();return e[8]=n[a],e}function q(t,n,a){var e=t.slice();return e[5]=n[a],e}function z(t){var n,a,e=new V.Title({props:{title:t[5].title,subheader:t[5].brand}});return{c:function(){n=v("div"),u(e.$$.fragment),this.h()},l:function(t){n=E(t,"DIV",{slot:!0});var a=w(n);l(e.$$.fragment,a),a.forEach(y),this.h()},h:function(){S(n,"slot","title")},m:function(t,r){T(t,n,r),p(e,n,null),a=!0},p:function(t,n){var a={};4&n&&(a.title=t[5].title),4&n&&(a.subheader=t[5].brand),e.$set(a)},i:function(t){a||(h(e.$$.fragment,t),a=!0)},o:function(t){$(e.$$.fragment,t),a=!1},d:function(t){t&&y(n),m(e)}}}function G(t){var n,a,e=new C({props:{class:"w-full",src:t[5].image}});return{c:function(){n=v("div"),u(e.$$.fragment),this.h()},l:function(t){n=E(t,"DIV",{slot:!0});var a=w(n);l(e.$$.fragment,a),a.forEach(y),this.h()},h:function(){S(n,"slot","media")},m:function(t,r){T(t,n,r),p(e,n,null),a=!0},p:function(t,n){var a={};4&n&&(a.src=t[5].image),e.$set(a)},i:function(t){a||(h(e.$$.fragment,t),a=!0)},o:function(t){$(e.$$.fragment,t),a=!1},d:function(t){t&&y(n),m(e)}}}function J(t){var n;return{c:function(){n=g("event_available")},l:function(t){n=P(t,"event_available")},m:function(t,a){T(t,n,a)},d:function(t){t&&y(n)}}}function Z(t){var n;return{c:function(){n=g("event_busy")},l:function(t){n=P(t,"event_busy")},m:function(t,a){T(t,n,a)},d:function(t){t&&y(n)}}}function F(t){var n,a,e=t[8]+"";return{c:function(){n=v("span"),a=g(e),this.h()},l:function(t){n=E(t,"SPAN",{class:!0});var r=w(n);a=P(r,e),r.forEach(y),this.h()},h:function(){S(n,"class","pt-px px-1")},m:function(t,e){T(t,n,e),N(n,a)},p:function(t,n){4&n&&e!==(e=t[8]+"")&&_(a,e)},d:function(t){t&&y(n)}}}function K(t){var n;return{c:function(){n=g("shopping_cart")},l:function(t){n=P(t,"shopping_cart")},m:function(t,a){T(t,n,a)},d:function(t){t&&y(n)}}}function L(t){for(var n,a,e,r,s,o,c,i,f,x,j,A,k,D,O,U,V,C,q,z,G=t[5].startTime+"",L=t[5].endTime+"",M=new B({props:{small:!0,class:"py-1",$$slots:{default:[J]},$$scope:{ctx:t}}}),Q=new B({props:{small:!0,class:"py-1",$$slots:{default:[Z]},$$scope:{ctx:t}}}),R=t[5].platforms,W=[],X=0;X<R.length;X+=1)W[X]=F(H(t,R,X));var Y=new B({props:{small:!0,class:"py-1",$$slots:{default:[K]},$$scope:{ctx:t}}});return{c:function(){n=v("div"),a=v("button"),u(M.$$.fragment),e=d(),r=v("span"),s=g(G),o=d(),c=v("button"),u(Q.$$.fragment),i=d(),f=v("span"),x=g(L),j=d(),A=v("button");for(var t=0;t<W.length;t+=1)W[t].c();k=d(),D=v("button"),u(Y.$$.fragment),O=d(),U=v("span"),V=v("a"),C=g("PS Store"),this.h()},l:function(t){n=E(t,"DIV",{slot:!0,class:!0});var u=w(n);a=E(u,"BUTTON",{class:!0});var p=w(a);l(M.$$.fragment,p),e=b(p),r=E(p,"SPAN",{class:!0});var h=w(r);s=P(h,G),h.forEach(y),p.forEach(y),o=b(u),c=E(u,"BUTTON",{class:!0});var $=w(c);l(Q.$$.fragment,$),i=b($),f=E($,"SPAN",{class:!0});var m=w(f);x=P(m,L),m.forEach(y),$.forEach(y),j=b(u),A=E(u,"BUTTON",{class:!0});for(var d=w(A),v=0;v<W.length;v+=1)W[v].l(d);d.forEach(y),k=b(u),D=E(u,"BUTTON",{class:!0});var g=w(D);l(Y.$$.fragment,g),O=b(g),U=E(g,"SPAN",{class:!0});var S=w(U);V=E(S,"A",{target:!0,href:!0});var T=w(V);C=P(T,"PS Store"),T.forEach(y),S.forEach(y),g.forEach(y),u.forEach(y),this.h()},h:function(){S(r,"class","pt-px px-1"),S(a,"class","rounded-full cursor-default flex item-center m-1 px-2 py-1 bg-success-500"),S(f,"class","pt-px px-1"),S(c,"class","rounded-full cursor-default flex item-center m-1 px-2 py-1 bg-error-500"),S(A,"class","rounded-full cursor-default flex item-center m-1 px-2 py-1 bg-light-blue-500"),S(V,"target","_blank"),S(V,"href",q="https://store.playstation.com/#!/cid="+t[5].code),S(U,"class","pt-px px-1"),S(D,"class","rounded-full flex item-center m-1 px-2 py-1 bg-blue-500 text-white"),S(n,"slot","text"),S(n,"class","p-5 pt-3 text-gray-700 body-2")},m:function(t,u){T(t,n,u),N(n,a),p(M,a,null),N(a,e),N(a,r),N(r,s),N(n,o),N(n,c),p(Q,c,null),N(c,i),N(c,f),N(f,x),N(n,j),N(n,A);for(var l=0;l<W.length;l+=1)W[l].m(A,null);N(n,k),N(n,D),p(Y,D,null),N(D,O),N(D,U),N(U,V),N(V,C),z=!0},p:function(t,n){var a={};2048&n&&(a.$$scope={dirty:n,ctx:t}),M.$set(a),(!z||4&n)&&G!==(G=t[5].startTime+"")&&_(s,G);var e={};if(2048&n&&(e.$$scope={dirty:n,ctx:t}),Q.$set(e),(!z||4&n)&&L!==(L=t[5].endTime+"")&&_(x,L),4&n){var r;for(R=t[5].platforms,r=0;r<R.length;r+=1){var o=H(t,R,r);W[r]?W[r].p(o,n):(W[r]=F(o),W[r].c(),W[r].m(A,null))}for(;r<W.length;r+=1)W[r].d(1);W.length=R.length}var c={};2048&n&&(c.$$scope={dirty:n,ctx:t}),Y.$set(c),(!z||4&n&&q!==(q="https://store.playstation.com/#!/cid="+t[5].code))&&S(V,"href",q)},i:function(t){z||(h(M.$$.fragment,t),h(Q.$$.fragment,t),h(Y.$$.fragment,t),z=!0)},o:function(t){$(M.$$.fragment,t),$(Q.$$.fragment,t),$(Y.$$.fragment,t),z=!1},d:function(t){t&&y(n),m(M),m(Q),I(W,t),m(Y)}}}function M(t){var n,a,e;return{c:function(){n=d(),a=d(),e=d()},l:function(t){n=b(t),a=b(t),e=b(t)},m:function(t,r){T(t,n,r),T(t,a,r),T(t,e,r)},p:D,i:D,o:D,d:function(t){t&&y(n),t&&y(a),t&&y(e)}}}function Q(t){var n,a=new V.Card({props:{class:"m-5 w-full md:w-1/3 lg:w-1/5",$$slots:{default:[M],text:[L],media:[G],title:[z]},$$scope:{ctx:t}}});return{c:function(){u(a.$$.fragment)},l:function(t){l(a.$$.fragment,t)},m:function(t,e){p(a,t,e),n=!0},p:function(t,n){var e={};2052&n&&(e.$$scope={dirty:n,ctx:t}),a.$set(e)},i:function(t){n||(h(a.$$.fragment,t),n=!0)},o:function(t){$(a.$$.fragment,t),n=!1},d:function(t){m(a,t)}}}function R(t){var n,a,e,r,s,o,c,i,f,B,D,O,V;document.title=n="PlayStation®Plus 免費遊戲 "+t[1]+"年";var C=new U({props:{label:Y,items:t[3]}});C.$on("change",t[4]);for(var H=t[2],z=[],G=0;G<H.length;G+=1)z[G]=Q(q(t,H,G));var J=function(t){return $(z[t],1,1,function(){z[t]=null})};return{c:function(){a=d(),e=v("h4"),r=g("PlayStation®Plus 免費遊戲 "),s=v("span"),o=g(t[0]),c=d(),i=g(t[1]),f=g("年"),B=d(),u(C.$$.fragment),D=d(),O=v("div");for(var n=0;n<z.length;n+=1)z[n].c();this.h()},l:function(n){x('[data-svelte="svelte-12cc3ao"]',document.head).forEach(y),a=b(n),e=E(n,"H4",{});var u=w(e);r=P(u,"PlayStation®Plus 免費遊戲 "),s=E(u,"SPAN",{class:!0});var p=w(s);o=P(p,t[0]),p.forEach(y),c=b(u),i=P(u,t[1]),f=P(u,"年"),u.forEach(y),B=b(n),l(C.$$.fragment,n),D=b(n),O=E(n,"DIV",{class:!0});for(var h=w(O),$=0;$<z.length;$+=1)z[$].l(h);h.forEach(y),this.h()},h:function(){S(s,"class","uppercase"),S(O,"class","flex justify-center flex-wrap")},m:function(t,n){T(t,a,n),T(t,e,n),N(e,r),N(e,s),N(s,o),N(e,c),N(e,i),N(e,f),T(t,B,n),p(C,t,n),T(t,D,n),T(t,O,n);for(var u=0;u<z.length;u+=1)z[u].m(O,null);V=!0},p:function(t,a){var e=j(a,1)[0];(!V||2&e)&&n!==(n="PlayStation®Plus 免費遊戲 "+t[1]+"年")&&(document.title=n),(!V||1&e)&&_(o,t[0]),(!V||2&e)&&_(i,t[1]);var r={};if(8&e&&(r.items=t[3]),C.$set(r),4&e){var s;for(H=t[2],s=0;s<H.length;s+=1){var c=q(t,H,s);z[s]?(z[s].p(c,e),h(z[s],1)):(z[s]=Q(c),z[s].c(),h(z[s],1),z[s].m(O,null))}for(k(),s=H.length;s<z.length;s+=1)J(s);A()}},i:function(t){if(!V){h(C.$$.fragment,t);for(var n=0;n<H.length;n+=1)h(z[n]);V=!0}},o:function(t){$(C.$$.fragment,t),z=z.filter(Boolean);for(var n=0;n<z.length;n+=1)$(z[n]);V=!1},d:function(t){t&&y(a),t&&y(e),t&&y(B),m(C,t),t&&y(D),t&&y(O),I(z,t)}}}function W(t){return X.apply(this,arguments)}function X(){return(X=t(n.mark(function t(a){var e,r,s,o,c,i,f;return n.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=a.params,a.query,r={},t.next=4,this.fetch("api/".concat(e.region,"/").concat(e.year,".json"));case 4:return s=t.sent,t.next=7,s.json();case 7:return o=t.sent,200===s.status&&"1000"===o.code?(r.region=e.region,r.year=e.year,r.data=o.data):this.error(s.status,o.code+" - "+o.message),t.next=11,this.fetch("api/hk/list.json");case 11:return c=t.sent,t.next=14,c.json();case 14:return i=t.sent,200===c.status&&"1000"===i.code?(f=[],i.data.forEach(function(t){f.push({value:t,text:t+"年"})}),r.items=f):this.error(c.status,i.code+" - "+i.message),t.abrupt("return",r);case 17:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}var Y="年份";function tt(t,n,a){var e=n.region,r=n.year,s=n.data,o=n.items,c=void 0===o?[]:o;return t.$set=function(t){"region"in t&&a(0,e=t.region),"year"in t&&a(1,r=t.year),"data"in t&&a(2,s=t.data),"items"in t&&a(3,c=t.items)},[e,r,s,c,function(t){return n=t.detail,void O("ps/hk/"+n);var n}]}export default(function(t){function n(t){var a;return e(this,n),a=r(this,s(n).call(this)),o(i(a),t,tt,R,c,{region:0,year:1,data:2,items:3}),a}return a(n,f),n}());export{W as preload};
