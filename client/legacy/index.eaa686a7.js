import{a6 as t,a7 as n,_ as e,a,b as r,c as s,i as c,s as o,d as i,S as f,H as u,I as l,J as p,t as h,q as $,K as m,g as v,f as d,x as g,a8 as x,l as y,k as b,h as w,j as E,y as P,m as S,n as T,o as N,p as j,A as _,F as A,aa as B,E as D,a9 as I,Y as k,B as R}from"./client.cc92b5c7.js";import{S as O,C as U,I as V}from"./index.306fe058.js";function q(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var e,s=a(t);if(n){var c=a(this).constructor;e=Reflect.construct(s,arguments,c)}else e=s.apply(this,arguments);return r(this,e)}}function C(t,n,e){var a=t.slice();return a[9]=n[e],a}function H(t,n,e){var a=t.slice();return a[6]=n[e],a}function F(t){var n,e,a;return e=new U.Title({props:{title:t[6].title,subheader:t[6].brand}}),{c:function(){n=d("div"),u(e.$$.fragment),this.h()},l:function(t){n=w(t,"DIV",{slot:!0});var a=E(n);l(e.$$.fragment,a),a.forEach(y),this.h()},h:function(){S(n,"slot","title")},m:function(t,r){T(t,n,r),p(e,n,null),a=!0},p:function(t,n){var a={};4&n&&(a.title=t[6].title),4&n&&(a.subheader=t[6].brand),e.$set(a)},i:function(t){a||(h(e.$$.fragment,t),a=!0)},o:function(t){$(e.$$.fragment,t),a=!1},d:function(t){t&&y(n),m(e)}}}function J(t){var n,e,a;return e=new V({props:{class:"w-full",src:t[6].image}}),{c:function(){n=d("div"),u(e.$$.fragment),this.h()},l:function(t){n=w(t,"DIV",{slot:!0});var a=E(n);l(e.$$.fragment,a),a.forEach(y),this.h()},h:function(){S(n,"slot","media")},m:function(t,r){T(t,n,r),p(e,n,null),a=!0},p:function(t,n){var a={};4&n&&(a.src=t[6].image),e.$set(a)},i:function(t){a||(h(e.$$.fragment,t),a=!0)},o:function(t){$(e.$$.fragment,t),a=!1},d:function(t){t&&y(n),m(e)}}}function K(t){var n;return{c:function(){n=g("event_available")},l:function(t){n=P(t,"event_available")},m:function(t,e){T(t,n,e)},d:function(t){t&&y(n)}}}function Y(t){var n;return{c:function(){n=g("event_busy")},l:function(t){n=P(t,"event_busy")},m:function(t,e){T(t,n,e)},d:function(t){t&&y(n)}}}function z(t){var n,e,a=t[9]+"";return{c:function(){n=d("span"),e=g(a),this.h()},l:function(t){n=w(t,"SPAN",{class:!0});var r=E(n);e=P(r,a),r.forEach(y),this.h()},h:function(){S(n,"class","pt-px px-1")},m:function(t,a){T(t,n,a),N(n,e)},p:function(t,n){4&n&&a!==(a=t[9]+"")&&_(e,a)},d:function(t){t&&y(n)}}}function G(t){var n;return{c:function(){n=g("shopping_cart")},l:function(t){n=P(t,"shopping_cart")},m:function(t,e){T(t,n,e)},d:function(t){t&&y(n)}}}function L(t){var n,e,a,r,s,c,o,i,f,x,j,A,D,I,R,O,U,V,q,H,F,J,L,M=t[6].startTime+"",Q=t[6].endTime+"";a=new k({props:{small:!0,class:"py-1",$$slots:{default:[K]},$$scope:{ctx:t}}}),f=new k({props:{small:!0,class:"py-1",$$slots:{default:[Y]},$$scope:{ctx:t}}});for(var W=t[6].platforms,X=[],Z=0;Z<W.length;Z+=1)X[Z]=z(C(t,W,Z));return U=new k({props:{small:!0,class:"py-1",$$slots:{default:[G]},$$scope:{ctx:t}}}),{c:function(){n=d("div"),e=d("button"),u(a.$$.fragment),r=v(),s=d("span"),c=g(M),o=v(),i=d("button"),u(f.$$.fragment),x=v(),j=d("span"),A=g(Q),D=v(),I=d("button");for(var t=0;t<X.length;t+=1)X[t].c();R=v(),O=d("button"),u(U.$$.fragment),V=v(),q=d("span"),H=d("a"),F=g("PS Store"),this.h()},l:function(t){n=w(t,"DIV",{slot:!0,class:!0});var u=E(n);e=w(u,"BUTTON",{class:!0});var p=E(e);l(a.$$.fragment,p),r=b(p),s=w(p,"SPAN",{class:!0});var h=E(s);c=P(h,M),h.forEach(y),p.forEach(y),o=b(u),i=w(u,"BUTTON",{class:!0});var $=E(i);l(f.$$.fragment,$),x=b($),j=w($,"SPAN",{class:!0});var m=E(j);A=P(m,Q),m.forEach(y),$.forEach(y),D=b(u),I=w(u,"BUTTON",{class:!0});for(var v=E(I),d=0;d<X.length;d+=1)X[d].l(v);v.forEach(y),R=b(u),O=w(u,"BUTTON",{class:!0});var g=E(O);l(U.$$.fragment,g),V=b(g),q=w(g,"SPAN",{class:!0});var S=E(q);H=w(S,"A",{target:!0,href:!0});var T=E(H);F=P(T,"PS Store"),T.forEach(y),S.forEach(y),g.forEach(y),u.forEach(y),this.h()},h:function(){S(s,"class","pt-px px-1"),S(e,"class","rounded-full cursor-default flex item-center m-1 px-2 py-1 bg-success-500 text-white"),S(j,"class","pt-px px-1"),S(i,"class","rounded-full cursor-default flex item-center m-1 px-2 py-1 bg-error-500 text-white"),S(I,"class","rounded-full cursor-default flex item-center m-1 px-2 py-1 bg-light-blue-500 text-white"),S(H,"target","_blank"),S(H,"href",J="https://store.playstation.com/?resolve="+t[6].code),S(q,"class","pt-px px-1"),S(O,"class","rounded-full flex item-center m-1 px-2 py-1 bg-blue-500 text-white"),S(n,"slot","text"),S(n,"class","p-5 pt-3 text-gray-700 body-2")},m:function(t,u){T(t,n,u),N(n,e),p(a,e,null),N(e,r),N(e,s),N(s,c),N(n,o),N(n,i),p(f,i,null),N(i,x),N(i,j),N(j,A),N(n,D),N(n,I);for(var l=0;l<X.length;l+=1)X[l].m(I,null);N(n,R),N(n,O),p(U,O,null),N(O,V),N(O,q),N(q,H),N(H,F),L=!0},p:function(t,n){var e={};4096&n&&(e.$$scope={dirty:n,ctx:t}),a.$set(e),(!L||4&n)&&M!==(M=t[6].startTime+"")&&_(c,M);var r={};if(4096&n&&(r.$$scope={dirty:n,ctx:t}),f.$set(r),(!L||4&n)&&Q!==(Q=t[6].endTime+"")&&_(A,Q),4&n){var s;for(W=t[6].platforms,s=0;s<W.length;s+=1){var o=C(t,W,s);X[s]?X[s].p(o,n):(X[s]=z(o),X[s].c(),X[s].m(I,null))}for(;s<X.length;s+=1)X[s].d(1);X.length=W.length}var i={};4096&n&&(i.$$scope={dirty:n,ctx:t}),U.$set(i),(!L||4&n&&J!==(J="https://store.playstation.com/?resolve="+t[6].code))&&S(H,"href",J)},i:function(t){L||(h(a.$$.fragment,t),h(f.$$.fragment,t),h(U.$$.fragment,t),L=!0)},o:function(t){$(a.$$.fragment,t),$(f.$$.fragment,t),$(U.$$.fragment,t),L=!1},d:function(t){t&&y(n),m(a),m(f),B(X,t),m(U)}}}function M(t){var n,e,a;return{c:function(){n=v(),e=v(),a=v()},l:function(t){n=b(t),e=b(t),a=b(t)},m:function(t,r){T(t,n,r),T(t,e,r),T(t,a,r)},p:R,i:R,o:R,d:function(t){t&&y(n),t&&y(e),t&&y(a)}}}function Q(t){var n,e;return n=new U.Card({props:{class:"m-5 w-full md:w-1/3 lg:w-1/5",$$slots:{default:[M],text:[L],media:[J],title:[F]},$$scope:{ctx:t}}}),{c:function(){u(n.$$.fragment)},l:function(t){l(n.$$.fragment,t)},m:function(t,a){p(n,t,a),e=!0},p:function(t,e){var a={};4100&e&&(a.$$scope={dirty:e,ctx:t}),n.$set(a)},i:function(t){e||(h(n.$$.fragment,t),e=!0)},o:function(t){$(n.$$.fragment,t),e=!1},d:function(t){m(n,t)}}}function W(t){var n,e,a,r,s,c,o,i,f,I,k,R,U,V;document.title=n="PlayStation®Plus 免費遊戲 "+t[1]+"年",(k=new O({props:{label:tt,items:t[3]}})).$on("change",t[5]);for(var q=t[2],C=[],F=0;F<q.length;F+=1)C[F]=Q(H(t,q,F));var J=function(t){return $(C[t],1,1,function(){C[t]=null})};return{c:function(){e=v(),a=d("h4"),r=g("PlayStation®Plus 免費遊戲 "),s=d("span"),c=g(t[0]),o=v(),i=g(t[1]),f=g("年"),I=v(),u(k.$$.fragment),R=v(),U=d("div");for(var n=0;n<C.length;n+=1)C[n].c();this.h()},l:function(n){x('[data-svelte="svelte-12cc3ao"]',document.head).forEach(y),e=b(n),a=w(n,"H4",{});var u=E(a);r=P(u,"PlayStation®Plus 免費遊戲 "),s=w(u,"SPAN",{class:!0});var p=E(s);c=P(p,t[0]),p.forEach(y),o=b(u),i=P(u,t[1]),f=P(u,"年"),u.forEach(y),I=b(n),l(k.$$.fragment,n),R=b(n),U=w(n,"DIV",{class:!0});for(var h=E(U),$=0;$<C.length;$+=1)C[$].l(h);h.forEach(y),this.h()},h:function(){S(s,"class","uppercase"),S(U,"class","flex justify-center flex-wrap")},m:function(t,n){T(t,e,n),T(t,a,n),N(a,r),N(a,s),N(s,c),N(a,o),N(a,i),N(a,f),T(t,I,n),p(k,t,n),T(t,R,n),T(t,U,n);for(var u=0;u<C.length;u+=1)C[u].m(U,null);V=!0},p:function(t,e){var a=j(e,1)[0];(!V||2&a)&&n!==(n="PlayStation®Plus 免費遊戲 "+t[1]+"年")&&(document.title=n),(!V||1&a)&&_(c,t[0]),(!V||2&a)&&_(i,t[1]);var r={};if(8&a&&(r.items=t[3]),k.$set(r),4&a){var s;for(q=t[2],s=0;s<q.length;s+=1){var o=H(t,q,s);C[s]?(C[s].p(o,a),h(C[s],1)):(C[s]=Q(o),C[s].c(),h(C[s],1),C[s].m(U,null))}for(D(),s=q.length;s<C.length;s+=1)J(s);A()}},i:function(t){if(!V){h(k.$$.fragment,t);for(var n=0;n<q.length;n+=1)h(C[n]);V=!0}},o:function(t){$(k.$$.fragment,t),C=C.filter(Boolean);for(var n=0;n<C.length;n+=1)$(C[n]);V=!1},d:function(t){t&&y(e),t&&y(a),t&&y(I),m(k,t),t&&y(R),t&&y(U),B(C,t)}}}function X(t){return Z.apply(this,arguments)}function Z(){return(Z=t(n.mark(function t(e){var a,r,s,c,o,i,f;return n.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.params,e.query,r={},t.next=4,this.fetch("api/".concat(a.region,"/").concat(a.year,".json"));case 4:return s=t.sent,t.next=7,s.json();case 7:return c=t.sent,200===s.status&&"1000"===c.code?(r.region=a.region,r.year=a.year,r.data=c.data):this.error(s.status,c.code+" - "+c.message),t.next=11,this.fetch("api/hk/list.json");case 11:return o=t.sent,t.next=14,o.json();case 14:return i=t.sent,200===o.status&&"1000"===i.code?(f=[],i.data.forEach(function(t){f.push({value:t,text:t+"年"})}),r.items=f):this.error(o.status,i.code+" - "+i.message),t.abrupt("return",r);case 17:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}var tt="年份";function nt(t,n,e){var a=n.region,r=n.year,s=n.data,c=n.items,o=void 0===c?[]:c;function i(t){I("ps/hk/"+t)}return t.$set=function(t){"region"in t&&e(0,a=t.region),"year"in t&&e(1,r=t.year),"data"in t&&e(2,s=t.data),"items"in t&&e(3,o=t.items)},[a,r,s,o,i,function(t){return i(t.detail)}]}export default(function(t){e(a,f);var n=q(a);function a(t){var e;return s(this,a),e=n.call(this),c(i(e),t,nt,W,o,{region:0,year:1,data:2,items:3}),e}return a}());export{X as preload};
