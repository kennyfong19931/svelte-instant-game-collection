import{S as t,i as e,s,A as a,B as l,D as r,t as n,l as o,E as c,a as i,e as f,o as $,_ as u,g as h,f as p,b as m,d,p as g,h as x,j as y,k as v,r as b,y as w,a0 as E,x as P,$ as S,R as T,v as N}from"./client.12e0c622.js";import{S as j,C as _,I as A}from"./index.d056d1bf.js";function B(t,e,s){const a=t.slice();return a[9]=e[s],a}function D(t,e,s){const a=t.slice();return a[6]=e[s],a}function I(t){let e,s,i;return s=new _.Title({props:{title:t[6].title,subheader:t[6].brand}}),{c(){e=f("div"),a(s.$$.fragment),this.h()},l(t){e=m(t,"DIV",{slot:!0});var a=d(e);l(s.$$.fragment,a),a.forEach(h),this.h()},h(){x(e,"slot","title")},m(t,a){y(t,e,a),r(s,e,null),i=!0},p(t,e){const a={};4&e&&(a.title=t[6].title),4&e&&(a.subheader=t[6].brand),s.$set(a)},i(t){i||(n(s.$$.fragment,t),i=!0)},o(t){o(s.$$.fragment,t),i=!1},d(t){t&&h(e),c(s)}}}function k(t){let e,s,i;return s=new A({props:{class:"w-full",src:t[6].image}}),{c(){e=f("div"),a(s.$$.fragment),this.h()},l(t){e=m(t,"DIV",{slot:!0});var a=d(e);l(s.$$.fragment,a),a.forEach(h),this.h()},h(){x(e,"slot","media")},m(t,a){y(t,e,a),r(s,e,null),i=!0},p(t,e){const a={};4&e&&(a.src=t[6].image),s.$set(a)},i(t){i||(n(s.$$.fragment,t),i=!0)},o(t){o(s.$$.fragment,t),i=!1},d(t){t&&h(e),c(s)}}}function O(t){let e;return{c(){e=$("event_available")},l(t){e=g(t,"event_available")},m(t,s){y(t,e,s)},d(t){t&&h(e)}}}function U(t){let e;return{c(){e=$("event_busy")},l(t){e=g(t,"event_busy")},m(t,s){y(t,e,s)},d(t){t&&h(e)}}}function V(t){let e,s,a=t[9]+"";return{c(){e=f("span"),s=$(a),this.h()},l(t){e=m(t,"SPAN",{class:!0});var l=d(e);s=g(l,a),l.forEach(h),this.h()},h(){x(e,"class","pt-px px-1")},m(t,a){y(t,e,a),v(e,s)},p(t,e){4&e&&a!==(a=t[9]+"")&&b(s,a)},d(t){t&&h(e)}}}function C(t){let e;return{c(){e=$("shopping_cart")},l(t){e=g(t,"shopping_cart")},m(t,s){y(t,e,s)},d(t){t&&h(e)}}}function q(t){let e,s,u,w,P,S,N,j,_,A,D,I,k,q,H,R,z,F,G,J,K,L,M,Q=t[6].startTime+"",W=t[6].endTime+"";u=new T({props:{small:!0,class:"py-1",$$slots:{default:[O]},$$scope:{ctx:t}}}),_=new T({props:{small:!0,class:"py-1",$$slots:{default:[U]},$$scope:{ctx:t}}});let X=t[6].platforms,Y=[];for(let e=0;e<X.length;e+=1)Y[e]=V(B(t,X,e));return z=new T({props:{small:!0,class:"py-1",$$slots:{default:[C]},$$scope:{ctx:t}}}),{c(){e=f("div"),s=f("button"),a(u.$$.fragment),w=i(),P=f("span"),S=$(Q),N=i(),j=f("button"),a(_.$$.fragment),A=i(),D=f("span"),I=$(W),k=i(),q=f("button");for(let t=0;t<Y.length;t+=1)Y[t].c();H=i(),R=f("button"),a(z.$$.fragment),F=i(),G=f("span"),J=f("a"),K=$("PS Store"),this.h()},l(t){e=m(t,"DIV",{slot:!0,class:!0});var a=d(e);s=m(a,"BUTTON",{class:!0});var r=d(s);l(u.$$.fragment,r),w=p(r),P=m(r,"SPAN",{class:!0});var n=d(P);S=g(n,Q),n.forEach(h),r.forEach(h),N=p(a),j=m(a,"BUTTON",{class:!0});var o=d(j);l(_.$$.fragment,o),A=p(o),D=m(o,"SPAN",{class:!0});var c=d(D);I=g(c,W),c.forEach(h),o.forEach(h),k=p(a),q=m(a,"BUTTON",{class:!0});var i=d(q);for(let t=0;t<Y.length;t+=1)Y[t].l(i);i.forEach(h),H=p(a),R=m(a,"BUTTON",{class:!0});var f=d(R);l(z.$$.fragment,f),F=p(f),G=m(f,"SPAN",{class:!0});var $=d(G);J=m($,"A",{target:!0,href:!0});var x=d(J);K=g(x,"PS Store"),x.forEach(h),$.forEach(h),f.forEach(h),a.forEach(h),this.h()},h(){x(P,"class","pt-px px-1"),x(s,"class","rounded-full cursor-default flex item-center m-1 px-2 py-1 bg-success-500 text-white"),x(D,"class","pt-px px-1"),x(j,"class","rounded-full cursor-default flex item-center m-1 px-2 py-1 bg-error-500 text-white"),x(q,"class","rounded-full cursor-default flex item-center m-1 px-2 py-1 bg-light-blue-500 text-white"),x(J,"target","_blank"),x(J,"href",L="https://store.playstation.com/#!/cid="+t[6].code),x(G,"class","pt-px px-1"),x(R,"class","rounded-full flex item-center m-1 px-2 py-1 bg-blue-500 text-white"),x(e,"slot","text"),x(e,"class","p-5 pt-3 text-gray-700 body-2")},m(t,a){y(t,e,a),v(e,s),r(u,s,null),v(s,w),v(s,P),v(P,S),v(e,N),v(e,j),r(_,j,null),v(j,A),v(j,D),v(D,I),v(e,k),v(e,q);for(let t=0;t<Y.length;t+=1)Y[t].m(q,null);v(e,H),v(e,R),r(z,R,null),v(R,F),v(R,G),v(G,J),v(J,K),M=!0},p(t,e){const s={};4096&e&&(s.$$scope={dirty:e,ctx:t}),u.$set(s),(!M||4&e)&&Q!==(Q=t[6].startTime+"")&&b(S,Q);const a={};if(4096&e&&(a.$$scope={dirty:e,ctx:t}),_.$set(a),(!M||4&e)&&W!==(W=t[6].endTime+"")&&b(I,W),4&e){let s;for(X=t[6].platforms,s=0;s<X.length;s+=1){const a=B(t,X,s);Y[s]?Y[s].p(a,e):(Y[s]=V(a),Y[s].c(),Y[s].m(q,null))}for(;s<Y.length;s+=1)Y[s].d(1);Y.length=X.length}const l={};4096&e&&(l.$$scope={dirty:e,ctx:t}),z.$set(l),(!M||4&e&&L!==(L="https://store.playstation.com/#!/cid="+t[6].code))&&x(J,"href",L)},i(t){M||(n(u.$$.fragment,t),n(_.$$.fragment,t),n(z.$$.fragment,t),M=!0)},o(t){o(u.$$.fragment,t),o(_.$$.fragment,t),o(z.$$.fragment,t),M=!1},d(t){t&&h(e),c(u),c(_),E(Y,t),c(z)}}}function H(t){let e,s,a;return{c(){e=i(),s=i(),a=i()},l(t){e=p(t),s=p(t),a=p(t)},m(t,l){y(t,e,l),y(t,s,l),y(t,a,l)},p:N,i:N,o:N,d(t){t&&h(e),t&&h(s),t&&h(a)}}}function R(t){let e,s;return e=new _.Card({props:{class:"m-5 w-full md:w-1/3 lg:w-1/5",$$slots:{default:[H],text:[q],media:[k],title:[I]},$$scope:{ctx:t}}}),{c(){a(e.$$.fragment)},l(t){l(e.$$.fragment,t)},m(t,a){r(e,t,a),s=!0},p(t,s){const a={};4100&s&&(a.$$scope={dirty:s,ctx:t}),e.$set(a)},i(t){s||(n(e.$$.fragment,t),s=!0)},o(t){o(e.$$.fragment,t),s=!1},d(t){c(e,t)}}}function z(t){let e,s,S,T,N,_,A,B,I,k,O,U,V,C;document.title=e="PlayStation®Plus 免費遊戲 "+t[1]+"年",(O=new j({props:{label:G,items:t[3]}})).$on("change",t[5]);let q=t[2],H=[];for(let e=0;e<q.length;e+=1)H[e]=R(D(t,q,e));const z=t=>o(H[t],1,1,()=>{H[t]=null});return{c(){s=i(),S=f("h4"),T=$("PlayStation®Plus 免費遊戲 "),N=f("span"),_=$(t[0]),A=i(),B=$(t[1]),I=$("年"),k=i(),a(O.$$.fragment),U=i(),V=f("div");for(let t=0;t<H.length;t+=1)H[t].c();this.h()},l(e){u('[data-svelte="svelte-12cc3ao"]',document.head).forEach(h),s=p(e),S=m(e,"H4",{});var a=d(S);T=g(a,"PlayStation®Plus 免費遊戲 "),N=m(a,"SPAN",{class:!0});var r=d(N);_=g(r,t[0]),r.forEach(h),A=p(a),B=g(a,t[1]),I=g(a,"年"),a.forEach(h),k=p(e),l(O.$$.fragment,e),U=p(e),V=m(e,"DIV",{class:!0});var n=d(V);for(let t=0;t<H.length;t+=1)H[t].l(n);n.forEach(h),this.h()},h(){x(N,"class","uppercase"),x(V,"class","flex justify-center flex-wrap")},m(t,e){y(t,s,e),y(t,S,e),v(S,T),v(S,N),v(N,_),v(S,A),v(S,B),v(S,I),y(t,k,e),r(O,t,e),y(t,U,e),y(t,V,e);for(let t=0;t<H.length;t+=1)H[t].m(V,null);C=!0},p(t,[s]){(!C||2&s)&&e!==(e="PlayStation®Plus 免費遊戲 "+t[1]+"年")&&(document.title=e),(!C||1&s)&&b(_,t[0]),(!C||2&s)&&b(B,t[1]);const a={};if(8&s&&(a.items=t[3]),O.$set(a),4&s){let e;for(q=t[2],e=0;e<q.length;e+=1){const a=D(t,q,e);H[e]?(H[e].p(a,s),n(H[e],1)):(H[e]=R(a),H[e].c(),n(H[e],1),H[e].m(V,null))}for(P(),e=q.length;e<H.length;e+=1)z(e);w()}},i(t){if(!C){n(O.$$.fragment,t);for(let t=0;t<q.length;t+=1)n(H[t]);C=!0}},o(t){o(O.$$.fragment,t),H=H.filter(Boolean);for(let t=0;t<H.length;t+=1)o(H[t]);C=!1},d(t){t&&h(s),t&&h(S),t&&h(k),c(O,t),t&&h(U),t&&h(V),E(H,t)}}}async function F({params:t,query:e}){let s={};const a=await this.fetch(`api/${t.region}/${t.year}.json`),l=await a.json();200===a.status&&"1000"===l.code?(s.region=t.region,s.year=t.year,s.data=l.data):this.error(a.status,l.code+" - "+l.message);const r=await this.fetch("api/hk/list.json"),n=await r.json();if(200===r.status&&"1000"===n.code){let t=[];n.data.forEach(e=>{t.push({value:e,text:e+"年"})}),s.items=t}else this.error(r.status,n.code+" - "+n.message);return s}const G="年份";function J(t,e,s){let{region:a}=e,{year:l}=e,{data:r}=e,{items:n=[]}=e;function o(t){S("ps/hk/"+t)}return t.$set=(t=>{"region"in t&&s(0,a=t.region),"year"in t&&s(1,l=t.year),"data"in t&&s(2,r=t.data),"items"in t&&s(3,n=t.items)}),[a,l,r,n,o,t=>o(t.detail)]}export default class extends t{constructor(t){super(),e(this,t,J,z,s,{region:0,year:1,data:2,items:3})}}export{F as preload};
